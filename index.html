<script>
  const form = document.getElementById("inputForm");
  const rekapTable = document.getElementById("rekapTable").getElementsByTagName("tbody")[0];
  const totalDisplay = document.getElementById("totalDisplay");
  let totalFee = 0;

  form.addEventListener("submit", function(e) {
    e.preventDefault();

    // ambil nilai dari input
    const kategori = document.querySelector('input[name="kategori"]:checked')?.value || "";
    const qty = parseInt(document.getElementById("qty").value);

    // cek tarif berdasarkan kategori
    let rate = 0;
    switch (kategori.toLowerCase()) {
      case "300j":
        rate = 100;
        break;
      case "reguler":
        rate = 80;
        break;
      case "repack":
        rate = 60;
        break;
      default:
        rate = 0;
    }

    // hitung dan tampilkan
    const fee = qty * rate;
    totalFee += fee;

    const row = rekapTable.insertRow();
    row.insertCell(0).textContent = kategori;
    row.insertCell(1).textContent = qty;
    row.insertCell(2).textContent = "Rp " + fee.toLocaleString();

    totalDisplay.textContent = "Total: Rp " + totalFee.toLocaleString();

    form.reset();
  });
</script>
